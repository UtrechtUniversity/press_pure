# Project: Pure Press Clipping Processor

## Overview
This Python project automates the processing of press clipping data to generate Pure-compatible XML files. It includes scripts for reading and handling Excel input, resolving URLs, extracting article metadata, resolving names via the Pure API, and constructing XML for ingestion into the Pure research information system.

## Components

### 1. **build_nexus_query.py**
- Reads organisational data from Excel.
- Generates Nexus queries grouped by organisational units.
- Outputs results to a text file.

**Dependencies:**
- pandas
- BeautifulSoup

### 2. **knipselkrant.py**
- Main script to process HTML press clippings.
- Extracts relevant information: title, date, source, keywords, faculties, and persons.
- Integrates with AI for additional metadata extraction (optional).
- Generates XML using `xml_builder.py`.

**Dependencies:**
- pandas
- BeautifulSoup
- nltk
- yake
- requests
- OpenAI (optional for AI-based extraction)

### 3. **pure_functions.py**
- Utilities for interacting with the Pure API.
- Resolves URLs from LexisNexis links.
- Resolves person identifiers and affiliations via Pure.
- Checks for duplicate press clippings.

**Dependencies:**
- requests
- rapidfuzz
- BeautifulSoup

### 4. **xml_builder.py**
- Builds Pure-compatible XML structures.
- Handles duplicates and ensures XML compatibility with Pure.

**Dependencies:**
- xml.etree.ElementTree
- xml.dom.minidom

## Installation

Install dependencies using pip:
```bash
pip install pandas beautifulsoup4 nltk yake requests rapidfuzz openai
```

## Configuration

Create a `config.cfg` file with the following structure:
```ini
[CREDENTIALS]
APIKEY_CRUD = your_pure_api_key
GOOGLE_API = your_google_api_key
GOOGLE_CX = your_google_cx
OPENAI_API = your_openai_api_key
BASEURL = your_pure_base_url
```

## Directory Structure
```
project/
├── files/
│   └── query.xlsx
├── knipsel/
│   └── *.html
├── output/
│   └── (Generated output files)
├── logs/
│   └── (Generated log files)
├── build_nexus_query.py
├── knipselkrant.py
├── pure_functions.py
├── xml_builder.py
└── config.cfg
```

## Usage

### Generate Nexus Queries
```bash
python build_nexus_query.py
```

### Process Press Clippings
```bash
python knipselkrant.py
```

- Ensure that HTML files are placed in the `knipsel` directory.
- Outputs Pure-compatible XML and logs in the `output` and `logs` directories, respectively.

## Logging
Logging is automatically configured to store detailed logs for each run, aiding in debugging and audit trails.

## Contributions
Contributions and improvements are welcome. Please submit pull requests or open issues on the repository.

---

*Generated by ChatGPT based on provided Python scripts.*


